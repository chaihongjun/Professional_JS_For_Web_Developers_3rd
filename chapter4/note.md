[TOC]
# 变量，作用域和内存问题

## 基本类型和引用类型
**ECMAScript变量包含两种类型：`基本类型`和`引用类型`,基本类型是指`简单的数据段`，引用类型指那些可能由`多个值构成的对象`**
5种基本数据类型:undefuned,null,boolean,number,string是按照值访问的，对象类型无法直接操作对象的内存空间，操作对象实际是操作对象的引用。
**引用类型的值是按照引用访问的。**

### 动态的属性
引用类型变量可以添加或者删除属性和方法
```
var person=new Object();
person.name="Nicholas";
alert(person.name); //Nicholas
```
以上代码创建了一个对象并且保存在变量person里，然后添加了属性name并赋值，如果对象不被销毁，或者属性不被删除，这个属性将一直存在
但是，**基本类型无法添加属性或者方法。**
```
var name = "Nicholas";
name.age=27;
alert(name.age);  //undefined
```

### 复制变量值
**从一个变量向另外一个变量复制基本类型和引用类型值时，也是不一样的。**
*复制基本类型*
如果从一个变量向另外一个变量复制基本类型的值，会在新的变量上创建新的值。
```
var num1=5;
var num2=num1;
```
以上num1和num2都是完全独立的，两个变量参与的操作不会互相影响。
> 复制前的变量对象
> 
|  |  |  | 
| - | :-: | 
|  |  | 
| num1 | 5(Number类型) |

————————————————
>复制后的变量对象
>
|  |  |  | 
| - | :-: | 
| num2 | 5(Number类型) |
| num1 | 5(Number类型) |

*复制引用类型*
当从一个变量向另外一个变量复制引用类型的值的时候，另外一个变量保存的是前一个变量的指针。两个变量实际引用的是同一个对象。
因此，改变其中一个变量，就会影响到另外一个变量
```
var obj1=new Object();
var obj2=obj1;    //obj2引用obj1对象
obj1.name="Nicholas";
alert(obj2.name); //Nicholas
```
obj1和obj2指向的是同一个对象(共享内存空间)：
> 复制前的变量对象
> 
|  |  |  | 
| - | :-: | 
|  |  | 
| obj1 | (Objectr类型) |

——|——————————————
Object
——|——————————————
>复制后的变量对象
>
|  |  |  | 
| - | :-: | 
| obj2 | (Object类型) |
| obj1 | (Object类型) |
